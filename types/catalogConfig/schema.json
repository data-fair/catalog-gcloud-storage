{
  "$id": "https://github.com/data-fair/catalog-gcloud-storage/catalog-config",
  "x-exports": [
    "types",
    "validate",
    "schema"
  ],
  "title": "GCloudStorageConfig",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "bucketName",
    "serviceAccount"
  ],
  "properties": {
    "bucketName": {
      "type": "string",
      "title": "Bucket Name",
      "x-i18n-title": {
        "fr": "Nom du bucket"
      },
      "description": "The name of the Google Cloud Storage bucket.",
      "x-i18n-description": {
        "fr": "Le nom du bucket Google Cloud Storage."
      },
      "layout": {
        "props": {
          "autocomplete": "username"
        }
      },
      "default": "",
      "examples": [
        "my-google-cloud-storage-bucket"
      ]
    },
    "serviceAccount": {
      "type": "string",
      "title": "Service Account",
      "x-i18n-title": {
        "fr": "Compte de service"
      },
      "description": "The service account key for accessing the Google Cloud Storage bucket. The expected format is a JSON:\n```json\n{\n  \"type\": \"service_account\",\n  \"project_id\": \"PROJECT_ID\",\n  \"private_key_id\": \"KEY_ID\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----PRIVATE_KEY-----END PRIVATE KEY-----\",\n  \"client_email\": \"SERVICE_ACCOUNT_EMAIL\",\n  \"client_id\": \"CLIENT_ID\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/SERVICE_ACCOUNT_EMAIL\"\n}\n```\nDetails on creating a service account: https://cloud.google.com/iam/docs/service-accounts-create?hl=fr. The required IAM role is: `Storage Object Viewer` to read objects.",
      "x-i18n-description": {
        "fr": "Le compte de service pour accéder au bucket Google Cloud Storage. La forme attendue est un JSON :\n```\n{\n  \"type\": \"service_account\",\n  \"project_id\": \"PROJECT_ID\",\n  \"private_key_id\": \"KEY_ID\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----PRIVATE_KEY-----END PRIVATE KEY-----\",\n  \"client_email\": \"SERVICE_ACCOUNT_EMAIL\",\n  \"client_id\": \"CLIENT_ID\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/SERVICE_ACCOUNT_EMAIL\"\n}\n```\nDétails sur la création d'un compte de service : https://cloud.google.com/iam/docs/service-accounts-create?hl=fr. Le rôle IAM requis est : `Storage Object Viewer` pour lire les objets"
      },
      "layout": {
        "props": {
          "type": "password",
          "autocomplete": "new-password"
        }
      },
      "default": ""
    }
  }
}
